<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="registration.css">
    <title>Registration Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <div class="container">
        <div class="title">Registration</div>
        <div class="content">
            <form action="#">
                <div class="user-details">
                    <div class="input-box">
                        <input type="text" placeholder="Enter your name" name="name" required>
                    </div>
                    <div class="input-box">
                        <input type="text" placeholder="Enter your surname" name="surname" required>
                    </div>
                    <div class="input-box">
                        <input type="email" placeholder="Enter your email" name="email" required>
                    </div>
                    <div class="input-box">
                        <input type="password" placeholder="Enter your password" name="password" required>
                    </div>
                </div>
                <div class="login-card-footer">
                    Hesabınız var mı? <a href="#"  onclick="window.location.href='https://cihatkarayeell.github.io/login-page'"> Giriş Yapın</a>.
                </div>
                <div class="button">
                    <input type="submit" value="Register">
                </div>
                <div class="login-card-social">
                    <div class="login-card-social-btn">
                        <a href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-facebook" width="44"
                                height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" />
                            </svg>
                        </a>
                        <a href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-google-play" width="44"
                                height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path
                                    d="M4 3.71v16.58a0.7 .7 0 0 0 1.05 .606l14.622 -8.42a0.55 .55 0 0 0 0 -.953l-14.622 -8.419a0.7 .7 0 0 0 -1.05 .607z" />
                                <line x1="15" y1="9" x2="4.5" y2="20.5" />
                                <line x1="4.5" y1="3.5" x2="15" y2="15" />
                            </svg>
                        </a>
                    </div>
                </div>
                
            </form>
        </div>
    </div>
<script>
    const form = document.querySelector('form');
    form.addEventListener('submit', async (event) => {
        event.preventDefault();
        const name = form.querySelector('input[name="name"]').value;
        const surname = form.querySelector('input[name="surname"]').value;
        const email = form.querySelector('input[name="email"]').value;
        const password = form.querySelector('input[name="password"]').value;

        try {
            const response = await fetch('https://caffinity.herokuapp.com/api/v1/user/signUp', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    name,
                    surname,
                    email,
                    password
                })
            });
            if (response.ok) {
                 window.location.href = 'https://cihatkarayeell.github.io/login-page';
            } else {
                throw new Error('Zaten bu mail adresi kayıtlı');
            }
        } catch (error) {
            alert(error.message);
        }
    });
</script>

</body>

</html>